
@using Microsoft.AspNetCore.Identity
@using MVCT.Models
@inject Microsoft.AspNetCore.Http.IHttpContextAccessor httpAccessor


@inject SignInManager<AppUser> SignInManager
@inject UserManager<AppUser> UserManager

@model RegisterViewModel



<h1>Dang Vy Khoi Home</h1>
<div>
   
    @if (SignInManager.IsSignedIn(User))
    {


        <form asp-controller="Account" asp-action="LogOff" method="post" id="logoutForm" class="navbar-right box-login-logout">
            <ul class="nav navbar-nav navbar-right">
                <li class="nav-item">
                    @{
                        var user = await UserManager.GetUserAsync(User);
                        <a class="nav-link button-login-logout" asp-controller="Manage" asp-action="Index" title="Manage">@user.Name</a>

                    }
                    @*@*<a class="nav-link button-login-logout" asp-controller="Manage" asp-action="Index" title="Manage">Xin chào @UserManager.GetUserName(User)!</a>*@

                </li>
                <li class="nav-item">
                    <button type="submit" class="btn btn-link navbar-btn navbar-link button-login-logout">Đăng xuất</button>
                </li>
            </ul>
            <div class="arrowToClick2" id="arrowToClick2" onclick="toggleElement2()"></div>
        </form>

    }
    else
    {
        <div class="nav navbar-nav navbar-right box-login-logout " id="toggleElement">
            <div> <a class="nav-link button-login-logout" onclick="showRegisterBox()">Đăng ký</a></div>
            <div> <a class="nav-link button-login-logout" asp-controller="Account" asp-action="Login">Đăng nhập</a></div>
            <div id="arrowToClick" class="arrowToClick" onclick="toggleElement()"></div>
        </div>


    }
    <script src="~/js/site.js" asp-append-version="true"></script>
</div>

@*// phần mới thêm (register)*@

<div class="row register-container no-active-register-box" id="registerbox">
    <div class="fade-register-box" onclick="showRegisterBox()">khôi nè</div>
    <form onsubmit="validateFormRegister(event)" asp-controller="Account" asp-action="Register" asp-route-returnurl="@ViewData["ReturnUrl"]" method="post" class="form-horizontal form-register-container-box" role="form">

        <div class="col-md-6">
        <section>
                <h4>Đăng ký đi bạn ơi</h4>
                <hr />
                <div asp-validation-summary="ModelOnly" class="text-danger"></div>


                <div class="form-group">
                    <label asp-for="UserName" class="col-md-10 control-label"></label>
                    <div class="col-md-10">
                        <input asp-for="UserName" class="form-control" />
                        <span asp-validation-for="UserName" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label class="col-md-10 control-label">Nhập tên</label>
                    <div class="col-md-10">
                        <input asp-for="Name" class="form-control" />
                        @*<span class="text-danger">Nhập tên đúng vào</span>*@
                    </div>
                </div>

                <div class="form-group">
                    <label asp-for="Email" class="col-md-10 control-label"></label>
                    <div class="col-md-10">
                        <input asp-for="Email" class="form-control" />
                        <span asp-validation-for="Email" class="text-danger"></span>
                    </div>
                </div>
                <div class="form-group">
                    <label asp-for="Password" class="col-md-10 control-label"></label>
                    <div class="col-md-10">
                        <input asp-for="Password" class="form-control" />
                        <span asp-validation-for="Password" class="text-danger"></span>
                    </div>
                </div>

                <div class="form-group">
                    <label asp-for="ConfirmPassword" class="col-md-10 control-label"></label>
                    <div class="col-md-10">

                        <input asp-for="ConfirmPassword" class="form-control" />

                        <span asp-validation-for="ConfirmPassword" class="text-danger"></span>
                        <input type="hidden" asp-for="ReponseCaptcha" />
                    </div>
                </div>

                @*select city *@
                <div class="form-group" style="width: 119%;">
                    <label class="col-md-10 control-label">City </label>
                    <div class="col-md-10">
                        <select asp-for="PlaceCityId" class="form-control">
                            <option value="">-- Select a City --</option>
                          
                            <!-- Thêm các tùy chọn cho các thành phố khác nếu cần -->
                        </select>
                    </div>
                </div>
                @*select district*@
                <div class="form-group" style="width: 119%;">
                    <label class="col-md-10 control-label">District </label>
                    <div class="col-md-10">
                        <select asp-for="PlacedistrictId" class="form-control">
                            <option value="">-- Select a City --</option>

                            <!-- Thêm các tùy chọn cho các thành phố khác nếu cần -->
                        </select>
                    </div>
                </div>
             



                <div class="form-group">
                    <div class="col-md-offset-2 col-md-10">
                        <button style="background-color: black;" type="submit" class="btn btn-primary btn-register-accept">Đăng ký</button>
                    </div>
                </div>
              
               
           
        </section>
    </div>
            <div class="col-md-6">
                <div class="form-group" style="margin-bottom:5px;">
                <img style="width:95%;border-radius:21px;margin-top: 65px;" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQyMJ6hK3b3G8VSRf64O0d8IErofbBFCx51Ew&usqp=CAU" />
               </div>

                <div class="recaptcha-container-all" onclick="setUpReponseRecaptcha()">
                    <div class="g-recaptcha" data-type="image" data-sitekey="6LcaTzQnAAAAAG2mi1ZAlRw6zN5ITIzQLA3T_4Yp" name="g-recaptcha-response" data-callback="recaptchaCallback"> </div>

                </div>
            </div>
    </form>
</div>



@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}


